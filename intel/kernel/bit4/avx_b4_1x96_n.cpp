#include <immintrin.h>
#include <malloc.h>
#include <cassert>
#include <cstdint>
#include <iostream>
#include <cstring>

#include "../common_1x96.h"
#include "../kernel.h"


inline void loop_b4_1x96_7(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                           int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x0f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x5a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x5c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x5e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x10(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x600(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x620(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x640(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x11(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x660(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x680(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x6a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x12(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x6c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x6e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x700(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x13(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x720(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x740(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x760(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x14(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x780(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x7a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x7c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x15(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x7e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x800(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x820(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x16(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x840(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x860(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x880(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x17(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x8a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x8c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x8e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x18(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x900(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x920(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x940(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x19(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x960(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x980(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x9a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x9c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x9e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xa40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xaa0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xac0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xae0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xb40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xba0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xbc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xbe0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x20(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xc40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x21(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xca0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x22(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xcc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xce0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x23(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xd40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x24(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xda0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xdc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x25(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xde0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x26(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xe40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x27(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xea0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xec0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xee0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x28(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xf40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x29(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xfa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xfc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xfe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1000(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1020(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1040(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1060(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1080(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x10a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x10c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x10e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1100(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1120(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1140(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1160(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1180(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x11a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x11c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x11e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x30(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1200(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1220(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1240(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x31(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1260(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1280(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x12a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x32(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x12c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x12e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1300(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x33(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1320(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1340(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1360(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x34(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1380(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x13a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x13c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x35(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x13e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1400(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1420(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x36(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1440(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1460(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1480(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x37(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x14a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x14c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x14e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x38(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1500(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1520(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1540(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x39(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1560(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1580(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x15a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x15c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x15e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1600(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1620(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1640(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1660(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1680(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x16a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x16c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x16e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1700(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1720(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1740(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1760(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1780(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x3f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x17a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x17c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x17e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x40(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1800(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1820(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1840(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x41(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1860(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1880(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x18a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x42(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x18c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x18e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1900(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x43(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1920(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1940(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1960(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x44(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1980(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x19a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x19c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x45(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x19e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1a20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x46(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1a40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1a80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x47(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1aa0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1ac0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1ae0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x48(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1b00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1b20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1b40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x49(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1b60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1b80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1ba0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x4a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1bc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1be0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x4b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1c20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1c40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x4c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1c80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1ca0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1cc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x4d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1ce0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1d00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1d20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x4e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1d40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1d60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1d80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x4f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1da0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1dc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1de0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x50(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1e20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1e40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x51(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1e80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1ea0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x52(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1ec0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1ee0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1f00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x53(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1f20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1f40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1f60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x54(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1f80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1fa0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1fc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x55(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1fe0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2000(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2020(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x56(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2040(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2060(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2080(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x57(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x20a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x20e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x58(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2100(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2120(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2140(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x59(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2160(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2180(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x21a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x5a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x21c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x21e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2200(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x5b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2220(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2240(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2260(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x5c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2280(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x22a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x22c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x5d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x22e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2300(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2320(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x5e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2340(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2360(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2380(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x5f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x23a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x23c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x23e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x60(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2400(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2420(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2440(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x61(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2460(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2480(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x24a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x62(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x24c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x24e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2500(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x63(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2520(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2540(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2560(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x64(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2580(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x25a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x25c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x65(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x25e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2600(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2620(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x66(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2640(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2660(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2680(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x67(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x26a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x26c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x26e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x68(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2700(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2720(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2740(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x69(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2760(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2780(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x27a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x6a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x27c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x27e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2800(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x6b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2820(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2840(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2860(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x6c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2880(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x28a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x28c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x6d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x28e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2900(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2920(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x6e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2940(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2960(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2980(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x6f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x29a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x29c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x29e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x70(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2a20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2a40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x71(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2a80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2aa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x72(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2ac0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2ae0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2b00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x73(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2b20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2b40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2b60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x74(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2b80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2ba0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2bc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x75(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2be0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2c20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x76(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2c40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2c80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x77(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2ca0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2cc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2ce0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x78(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2d00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2d20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2d40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x79(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2d60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2d80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2da0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x7a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2dc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2de0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x7b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2e20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2e40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x7c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2e80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2ea0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2ec0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x7d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2ee0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2f00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2f20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x7e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2f40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2f60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2f80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x7f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2fa0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2fc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2fe0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x80, %[lhs] \n\t"
    "addq $0x3000, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}

inline void loop_b4_1x96_6(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                           int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x0f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x5a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x5c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x5e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x10(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x600(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x620(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x640(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x11(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x660(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x680(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x6a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x12(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x6c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x6e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x700(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x13(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x720(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x740(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x760(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x14(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x780(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x7a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x7c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x15(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x7e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x800(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x820(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x16(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x840(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x860(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x880(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x17(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x8a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x8c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x8e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x18(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x900(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x920(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x940(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x19(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x960(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x980(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x9a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x9c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x9e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xa40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xaa0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xac0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xae0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xb40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xba0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xbc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xbe0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x20(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xc40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x21(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xca0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x22(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xcc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xce0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x23(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xd40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x24(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xda0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xdc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x25(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xde0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x26(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xe40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x27(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xea0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xec0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xee0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x28(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xf40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x29(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xfa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xfc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xfe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1000(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1020(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1040(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1060(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1080(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x10a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x10c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x10e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1100(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1120(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1140(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1160(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1180(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x11a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x11c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x11e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x30(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1200(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1220(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1240(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x31(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1260(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1280(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x12a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x32(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x12c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x12e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1300(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x33(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1320(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1340(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1360(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x34(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1380(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x13a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x13c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x35(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x13e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1400(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1420(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x36(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1440(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1460(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1480(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x37(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x14a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x14c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x14e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x38(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1500(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1520(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1540(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x39(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1560(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1580(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x15a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x15c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x15e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1600(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1620(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1640(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1660(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1680(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x16a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x16c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x16e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1700(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1720(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x3e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1740(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1760(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1780(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x3f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x17a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x17c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x17e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x40, %[lhs] \n\t"
    "addq $0x1800, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}

inline void loop_b4_1x96_5(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                           int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x0f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x5a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x5c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x5e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x10(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x600(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x620(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x640(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x11(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x660(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x680(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x6a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x12(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x6c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x6e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x700(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x13(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x720(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x740(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x760(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x14(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x780(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x7a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x7c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x15(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x7e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x800(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x820(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x16(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x840(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x860(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x880(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x17(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x8a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x8c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x8e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x18(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x900(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x920(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x940(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x19(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x960(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x980(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x9a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x9c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x9e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xa40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xaa0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xac0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xae0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xb40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xba0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xbc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xbe0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x20(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xc40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x21(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xca0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x22(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xcc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xce0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x23(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xd40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x24(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xda0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xdc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x25(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xde0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x26(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xe40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x27(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xea0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xec0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xee0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x28(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xf40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x29(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xfa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xfc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xfe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1000(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1020(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1040(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1060(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1080(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x10a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x10c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x10e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1100(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1120(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1140(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1160(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1180(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x11a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x11c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x11e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x30(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1200(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1220(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1240(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x31(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1260(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1280(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x12a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x32(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x12c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x12e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1300(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x33(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1320(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1340(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1360(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x34(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1380(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x13a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x13c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x35(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x13e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1400(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1420(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x36(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1440(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1460(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1480(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x37(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x14a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x14c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x14e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x38, %[lhs] \n\t"
    "addq $0x1500, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}

inline void loop_b4_1x96_4(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                           int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x0f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x5a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x5c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x5e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x10(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x600(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x620(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x640(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x11(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x660(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x680(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x6a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x12(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x6c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x6e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x700(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x13(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x720(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x740(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x760(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x14(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x780(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x7a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x7c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x15(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x7e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x800(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x820(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x16(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x840(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x860(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x880(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x17(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x8a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x8c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x8e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x18(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x900(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x920(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x940(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x19(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x960(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x980(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x9a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x9c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x9e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xa40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xaa0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xac0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xae0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xb40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xba0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xbc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xbe0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x20(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xc40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x21(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xca0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x22(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xcc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xce0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x23(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xd40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x24(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xda0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xdc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x25(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xde0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x26(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xe40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x27(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xea0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xec0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xee0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x28(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xf40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x29(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xf60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xf80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xfa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xfc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xfe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1000(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1020(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1040(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1060(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1080(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x10a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x10c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x10e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1100(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1120(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x2e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1140(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1160(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1180(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x2f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x11a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x11c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x11e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x30, %[lhs] \n\t"
    "addq $0x1200, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}

inline void loop_b4_1x96_3(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                           int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x0f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x5a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x5c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x5e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x10(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x600(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x620(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x640(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x11(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x660(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x680(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x6a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x12(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x6c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x6e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x700(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x13(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x720(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x740(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x760(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x14(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x780(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x7a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x7c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x15(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x7e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x800(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x820(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x16(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x840(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x860(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x880(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x17(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x8a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x8c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x8e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x18(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x900(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x920(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x940(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x19(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x960(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x980(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x9a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x9c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x9e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xa40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xaa0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xac0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xae0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xb40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xba0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xbc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xbe0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x20(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc00(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xc40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x21(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xc80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xca0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x22(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xcc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xce0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x23(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xd40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xd60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x24(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xd80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xda0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xdc0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x25(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xde0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x26(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xe40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xe80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x27(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xea0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xec0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xee0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x28, %[lhs] \n\t"
    "addq $0xf00, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}

inline void loop_b4_1x96_2(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                           int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x0f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x5a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x5c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x5e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x10(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x600(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x620(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x640(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x11(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x660(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x680(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x6a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x12(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x6c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x6e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x700(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x13(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x720(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x740(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x760(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x14(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x780(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x7a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x7c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x15(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x7e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x800(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x820(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x16(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x840(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x860(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x880(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x17(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x8a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x8c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x8e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x18(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x900(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x920(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x940(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x19(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x960(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x980(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x9a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x9c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x9e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa00(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa20(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xa40(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa60(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xa80(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xaa0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xac0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xae0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb00(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb20(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x1e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xb40(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xb60(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xb80(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x1f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xba0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xbc0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xbe0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x20, %[lhs] \n\t"
    "addq $0xc00, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}

inline void loop_b4_1x96_1(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                           int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x0f(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x5a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x5c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x5e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x10(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x600(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x620(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x640(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x11(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x660(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x680(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x6a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x12(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x6c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x6e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x700(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x13(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x720(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x740(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x760(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x14(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x780(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x7a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x7c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x15(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x7e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x800(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x820(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x16(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x840(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x860(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x880(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x17(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x8a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x8c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x8e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x18, %[lhs] \n\t"
    "addq $0x900, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}

inline void loop_b4_1x96(const int8_t *lhs, const int8_t *rhs, int32_t *dst,
                         int64_t d1, int64_t d2) {
    asm volatile(
    "movq %[depth1], %%r12 \n\t"
    "movq %[depth2], %%r14 \n\t"
    //initialization
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"
    "vpxor %%ymm4, %%ymm4, %%ymm4 \n\t"
    "vpxor %%ymm5, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm6, %%ymm6, %%ymm6 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"
    "vpxor %%ymm8, %%ymm8, %%ymm8 \n\t"
    "vpxor %%ymm9, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm10, %%ymm10, %%ymm10 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"
    "vpxor %%ymm12, %%ymm12, %%ymm12 \n\t"
    "vpxor %%ymm13, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm14, %%ymm14, %%ymm14 \n\t"
    "vpxor %%ymm15, %%ymm15, %%ymm15 \n\t"

    "cmp $0, %%r12 \n\t"
    "jb Rest%= \n\t"

    "Loop16%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "vpbroadcastb 0x01(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x60(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x80(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0xa0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x02(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0xc0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0xe0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x100(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x03(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x120(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x140(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x160(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x04(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x180(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x1a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x1c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x05(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x1e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x200(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x220(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x06(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x240(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x260(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x280(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x07(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x2a0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x2c0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x2e0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x08(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x300(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x320(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x340(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x09(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x360(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x380(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x3a0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0a(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x3c0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x3e0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x400(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0b(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x420(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x440(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x460(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0c(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x480(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x4a0(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x4c0(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0d(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x4e0(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x500(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x520(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpbroadcastb 0x0e(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor 0x540(%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x560(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x580(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //	"addq $0x10, %[lhs] \n\t"
    "addq $0x0f, %[lhs] \n\t"
    "addq $0x5a0, %[rhs] \n\t"

    "decq %%r12 \n\t"
    "jnz Loop16%= \n\t"

    "Rest%=: \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"


    "decq %%r14 \n\t"
    "jz Fin%= \n\t"
    // muladd 8x32bit 16 or depth times
    "LoopU%=: \n\t"

    "addq $0x01, %[lhs] \n\t"
    "addq $0x60, %[rhs] \n\t"

    "vpbroadcastb 0x00(%[lhs]), %%ymm0 \n\t"
    "vpcmpgtb %%ymm0, %%ymm15, %%ymm1 \n\t"
    "vpcmpeqb %%ymm0, %%ymm15, %%ymm0 \n\t"
    "vpxor (%[rhs]), %%ymm1, %%ymm2 \n\t"
    "vpxor 0x20(%[rhs]), %%ymm1, %%ymm6 \n\t"
    "vpxor 0x40(%[rhs]), %%ymm1, %%ymm10 \n\t"
    "vpsubb %%ymm1, %%ymm2, %%ymm2 \n\t"
    "vpandn %%ymm2, %%ymm0, %%ymm2 \n\t"
    "vpaddb %%ymm2, %%ymm3, %%ymm3 \n\t"
    "vpsubb %%ymm1, %%ymm6, %%ymm6 \n\t"
    "vpandn %%ymm6, %%ymm0, %%ymm6 \n\t"
    "vpaddb %%ymm6, %%ymm7, %%ymm7 \n\t"
    "vpsubb %%ymm1, %%ymm10, %%ymm10 \n\t"
    "vpandn %%ymm10, %%ymm0, %%ymm10 \n\t"
    "vpaddb %%ymm10, %%ymm11, %%ymm11 \n\t"

    "decq %%r14 \n\t"
    "jnz LoopU%= \n\t"

    "Fin%=: \n\t"
    //convert 8bit to 16bit & addw
    "vpmovsxbw %%xmm3, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm3, %%ymm3 \n\t"
    "vpmovsxbw %%xmm3, %%ymm3 \n\t"
    "vpaddw %%ymm14, %%ymm4, %%ymm4 \n\t"
    "vpaddw %%ymm3, %%ymm5, %%ymm5 \n\t"
    "vpxor %%ymm3, %%ymm3, %%ymm3 \n\t"

    "vpmovsxbw %%xmm7, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm7, %%ymm7 \n\t"
    "vpmovsxbw %%xmm7, %%ymm7 \n\t"
    "vpaddw %%ymm14, %%ymm8, %%ymm8 \n\t"
    "vpaddw %%ymm7, %%ymm9, %%ymm9 \n\t"
    "vpxor %%ymm7, %%ymm7, %%ymm7 \n\t"

    "vpmovsxbw %%xmm11, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm11, %%ymm11 \n\t"
    "vpmovsxbw %%xmm11, %%ymm11 \n\t"
    "vpaddw %%ymm14, %%ymm12, %%ymm12 \n\t"
    "vpaddw %%ymm11, %%ymm13, %%ymm13 \n\t"
    "vpxor %%ymm11, %%ymm11, %%ymm11 \n\t"

    //convert 16bit to 32bit after all depth mul done
    "vpmovsxwd %%xmm4, %%ymm3 \n\t"
    "vpermq $0xee, %%ymm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm4, %%ymm4 \n\t"
    "vpmovsxwd %%xmm5, %%ymm6 \n\t"
    "vpermq $0xee, %%ymm5, %%ymm5 \n\t"
    "vpmovsxwd %%xmm5, %%ymm5 \n\t"

    "vpmovsxwd %%xmm8, %%ymm7 \n\t"
    "vpermq $0xee, %%ymm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm8, %%ymm8 \n\t"
    "vpmovsxwd %%xmm9, %%ymm10 \n\t"
    "vpermq $0xee, %%ymm9, %%ymm9 \n\t"
    "vpmovsxwd %%xmm9, %%ymm9 \n\t"

    "vpmovsxwd %%xmm12, %%ymm11 \n\t"
    "vpermq $0xee, %%ymm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm12, %%ymm12 \n\t"
    "vpmovsxwd %%xmm13, %%ymm14 \n\t"
    "vpermq $0xee, %%ymm13, %%ymm13 \n\t"
    "vpmovsxwd %%xmm13, %%ymm13 \n\t"

    "vmovdqu %%ymm3, 0x00(%[dst]) \n\t"
    "vmovdqu %%ymm4, 0x20(%[dst]) \n\t"
    "vmovdqu %%ymm6, 0x40(%[dst]) \n\t"
    "vmovdqu %%ymm5, 0x60(%[dst]) \n\t"

    "vmovdqu %%ymm7, 0x80(%[dst]) \n\t"
    "vmovdqu %%ymm8, 0xa0(%[dst]) \n\t"
    "vmovdqu %%ymm10, 0xc0(%[dst]) \n\t"
    "vmovdqu %%ymm9, 0xe0(%[dst]) \n\t"

    "vmovdqu %%ymm11, 0x100(%[dst]) \n\t"
    "vmovdqu %%ymm12, 0x120(%[dst]) \n\t"
    "vmovdqu %%ymm14, 0x140(%[dst]) \n\t"
    "vmovdqu %%ymm13, 0x160(%[dst]) \n\t"

    : // outputs
    [lhs] "+r"(lhs), [rhs] "+r"(rhs), [dst] "+r"(dst)
    : // inputs
    [depth1] "r"(d1), [depth2] "r"(d2)
    : // clobbers
    "cc", "memory", "%ymm0", "%ymm1", "%ymm2", "%ymm3", "%ymm4", "%ymm5", "%ymm6", "%ymm7",
            "%ymm8", "%ymm9", "%ymm10", "%ymm11", "%ymm12", "%ymm13", "%ymm14", "%ymm15", "%r12", "%r14");

}


void gemm_xor_avx_small_b4_1x96(const int8_t *lhs, const int8_t *rhs, int8_t *dst,
                                int height, int depth, int width,
                                int32_t *rhs_offset, int32_t *dst_offset,
                                int32_t *scale, int32_t *shift, int32_t *n) {

    int64_t depth16_b = (int64_t)(depth - 1) / 15;
    int64_t depth16_s = (int64_t)(depth - 1) % 15 + 1;
    int64_t depth24_b = (int64_t)(depth - 1) / 24;
    int64_t depth24_s = (int64_t)(depth - 1) % 24 + 1;
    int64_t depth32_b = (int64_t)(depth - 1) / 32;
    int64_t depth32_s = (int64_t)(depth - 1) % 32 + 1;
    int64_t depth40_b = (int64_t)(depth - 1) / 40;
    int64_t depth40_s = (int64_t)(depth - 1) % 40 + 1;
    int64_t depth48_b = (int64_t)(depth - 1) / 48;
    int64_t depth48_s = (int64_t)(depth - 1) % 48 + 1;
    int64_t depth56_b = (int64_t)(depth - 1) / 56;
    int64_t depth56_s = (int64_t)(depth - 1) % 56 + 1;
    int64_t depth64_b = (int64_t)(depth - 1) / 64;
    int64_t depth64_s = (int64_t)(depth - 1) % 64 + 1;
    int64_t depth128_b = (int64_t)(depth - 1) / 128;
    int64_t depth128_s = (int64_t)(depth - 1) % 128 + 1;


    auto rhs_m = (int8_t *) _mm_malloc(depth * 96 * sizeof(int8_t), 256);
    auto dst_temp = (int32_t *) _mm_malloc(96 * sizeof(int32_t), 256);

    for (int i = 0; i < (width - 1) / 96; i++) {

        for (int a = 0; a < depth; a++) {
            memcpy(rhs_m + a * 96, rhs + (a * width + 96 * i), 96 * sizeof(int8_t));
        }
        for (int j = 0; j < height; j++) {
            //loop_b4_1x96(lhs + depth * j,
            //             rhs_m,
            //             dst_temp, depth1, depth2);
            switch (n[j]) {
                case 16:
                    loop_b4_1x96(lhs + depth * j,
                                 rhs_m,
                                 dst_temp, depth16_b, depth16_s);
                    break;
                case 24:
                    loop_b4_1x96_1(lhs + depth * j,
                                   rhs_m,
                                   dst_temp, depth24_b, depth24_s);
                    break;
                case 32:
                    loop_b4_1x96_2(lhs + depth * j,
                                   rhs_m,
                                   dst_temp, depth32_b, depth32_s);
                    break;
                case 40:
                    loop_b4_1x96_3(lhs + depth * j,
                                   rhs_m,
                                   dst_temp, depth40_b, depth40_s);
                    break;
                case 48:
                    loop_b4_1x96_4(lhs + depth * j,
                                   rhs_m,
                                   dst_temp, depth48_b, depth48_s);
                    break;
                case 56:
                    loop_b4_1x96_5(lhs + depth * j,
                                   rhs_m,
                                   dst_temp, depth56_b, depth56_s);
                    break;
                case 64:
                    loop_b4_1x96_6(lhs + depth * j,
                                   rhs_m,
                                   dst_temp, depth64_b, depth64_s);
                    break;
                case 128:
                    loop_b4_1x96_7(lhs + depth * j,
                                   rhs_m,
                                   dst_temp, depth128_b, depth128_s);
                    break;
                default:
                    loop_b4_1x96(lhs + depth * j,
                                 rhs_m,
                                 dst_temp, depth16_b, depth16_s);
                    break;
            }

            scale_shift_x12(dst_temp, dst + width * j + 96 * i,
                            rhs_offset, dst_offset, scale, shift);
        }
    }

    for (int a = 0; a < depth; a++) {
        memcpy(rhs_m + a * 96, rhs + (a * width + width - 96), 96 * sizeof(int8_t));
    }
    for (int j = 0; j < height; j++) {
        //loop_b4_1x96(lhs + depth * j,
        //             rhs_m,
        //             dst_temp, depth1, depth2);
        switch (n[j]) {
            case 16:
                loop_b4_1x96(lhs + depth * j,
                             rhs_m,
                             dst_temp, depth16_b, depth16_s);
                break;
            case 24:
                loop_b4_1x96_1(lhs + depth * j,
                               rhs_m,
                               dst_temp, depth24_b, depth24_s);
                break;
            case 32:
                loop_b4_1x96_2(lhs + depth * j,
                               rhs_m,
                               dst_temp, depth32_b, depth32_s);
                break;
            case 40:
                loop_b4_1x96_3(lhs + depth * j,
                               rhs_m,
                               dst_temp, depth40_b, depth40_s);
                break;
            case 48:
                loop_b4_1x96_4(lhs + depth * j,
                               rhs_m,
                               dst_temp, depth48_b, depth48_s);
                break;
            case 56:
                loop_b4_1x96_5(lhs + depth * j,
                               rhs_m,
                               dst_temp, depth56_b, depth56_s);
                break;
            case 64:
                loop_b4_1x96_6(lhs + depth * j,
                               rhs_m,
                               dst_temp, depth64_b, depth64_s);
                break;
            case 128:
                loop_b4_1x96_7(lhs + depth * j,
                               rhs_m,
                               dst_temp, depth128_b, depth128_s);
                break;
            default:
                loop_b4_1x96(lhs + depth * j,
                             rhs_m,
                             dst_temp, depth16_b, depth16_s);
                break;
        }

        if (width >= 96) {
            scale_shift_x12(dst_temp, dst + width * j + width - 96,
                            rhs_offset, dst_offset, scale, shift);
        } else {
            scale_shift_x12(dst_temp, dst,
                            rhs_offset, dst_offset, scale, shift);
        }
    }

    _mm_free(rhs_m);
    _mm_free(dst_temp);
}

void gemm_xor_avx_b4_1x96_n(const int8_t *lhs, const int8_t *rhs, int8_t *dst,
                            int height, int depth, int width,
                            int32_t *rhs_offset, int32_t *dst_offset,
                            int32_t *scale, int32_t *shift, int32_t *n) {
    gemm_xor_avx_small_b4_1x96(lhs, rhs, dst, height, depth, width, rhs_offset, dst_offset, scale, shift, n);
}



